# ğŸ”§ Docker å¡ä½å•é¡Œä¿®å¾©æŒ‡å—

## å•é¡Œï¼šunpacking å¡ä½

æ‚¨é‡åˆ°çš„å•é¡Œæ˜¯ Docker åœ¨æ§‹å»º frontend æ˜ åƒæ™‚å¡åœ¨ "unpacking" æ­¥é©Ÿã€‚

---

## âš¡ å¿«é€Ÿè§£æ±ºæ–¹æ¡ˆï¼ˆæ¨è–¦ï¼‰

### æ–¹æ¡ˆ1: ä¸ä½¿ç”¨ Dockerï¼ˆæœ€å¿«ï¼‰

```bash
# 1. æŒ‰ Ctrl+C åœæ­¢ç•¶å‰çš„ Docker é€²ç¨‹

# 2. é›™æ“ŠåŸ·è¡Œ
start-without-docker.bat
```

**å„ªé»**:
- âœ… å•Ÿå‹•é€Ÿåº¦å¿«ï¼ˆä¸éœ€è¦æ§‹å»ºæ˜ åƒï¼‰
- âœ… é–‹ç™¼æ™‚ç†±é‡è¼‰æ›´å¿«
- âœ… ä¸éœ€è¦ç­‰å¾… Docker æ§‹å»º
- âœ… è³‡æºå ç”¨æ›´å°‘

**å‰ç½®éœ€æ±‚**:
- Python 3.11
- Node.js 18+

---

## ğŸ³ Docker è§£æ±ºæ–¹æ¡ˆ

å¦‚æœæ‚¨ä»æƒ³ä½¿ç”¨ Dockerï¼š

### æ­¥é©Ÿ1: åœæ­¢ä¸¦æ¸…ç†

æŒ‰ `Ctrl+C` åœæ­¢ç•¶å‰é€²ç¨‹ï¼Œç„¶å¾Œï¼š

```bash
# æ–¹æ³•1: ä½¿ç”¨æ¸…ç†è…³æœ¬
clean-docker.bat

# æ–¹æ³•2: æ‰‹å‹•æ¸…ç†
docker-compose down
docker system prune -a -f
docker builder prune -a -f
```

### æ­¥é©Ÿ2: åªå•Ÿå‹•å¾Œç«¯ï¼ˆä½¿ç”¨ Dockerï¼‰

å‰µå»ºä¸€å€‹ç°¡åŒ–çš„é…ç½®ï¼š

```bash
# åªå•Ÿå‹• PostgreSQL å’Œ Backend
docker-compose up postgres backend
```

ç„¶å¾Œåœ¨å¦ä¸€å€‹çµ‚ç«¯æ‰‹å‹•å•Ÿå‹•å‰ç«¯ï¼š

```bash
cd frontend
npm install
npm start
```

### æ­¥é©Ÿ3: ä¿®æ”¹ npm registryï¼ˆåŠ é€Ÿï¼‰

åœ¨ `frontend/` ç›®éŒ„ä¸‹åŸ·è¡Œï¼š

```bash
npm config set registry https://registry.npmmirror.com
```

ç„¶å¾Œé‡è©¦ï¼š

```bash
docker-compose build --no-cache frontend
docker-compose up
```

---

## ğŸš€ æ¨è–¦çš„å·¥ä½œæ–¹å¼

### é–‹ç™¼éšæ®µï¼ˆä¸ç”¨ Dockerï¼‰

```bash
start-without-docker.bat
```

**åŸå› **:
- æ§‹å»ºæ›´å¿«
- èª¿è©¦æ›´æ–¹ä¾¿
- ç†±é‡è¼‰é€Ÿåº¦å¿«
- ä¸éœ€è¦é‡å»ºæ˜ åƒ

### ç”Ÿç”¢éƒ¨ç½²ï¼ˆä½¿ç”¨ Dockerï¼‰

```bash
docker-compose up --build
```

**åŸå› **:
- ç’°å¢ƒä¸€è‡´æ€§
- æ˜“æ–¼éƒ¨ç½²
- æœå‹™éš”é›¢

---

## ğŸ“Š æ™‚é–“å°æ¯”

| æ–¹å¼ | é¦–æ¬¡å•Ÿå‹•æ™‚é–“ | å¾ŒçºŒå•Ÿå‹•æ™‚é–“ |
|------|--------------|--------------|
| ä¸ç”¨ Docker | ~2-3 åˆ†é˜ | ~10-20 ç§’ |
| ä½¿ç”¨ Docker | ~10-20 åˆ†é˜ | ~1-2 åˆ†é˜ |

---

## ğŸ› ï¸ è©³ç´°æ­¥é©Ÿ

### ä½¿ç”¨ start-without-docker.bat

1. **åœæ­¢ Docker**
   ```bash
   # æŒ‰ Ctrl+C
   # æˆ–
   docker-compose down
   ```

2. **å•Ÿå‹•æœ¬åœ°æœå‹™**
   ```bash
   start-without-docker.bat
   ```

3. **ç­‰å¾…æœå‹™å•Ÿå‹•**
   - å¾Œç«¯ï¼šç´„ 10 ç§’
   - å‰ç«¯ï¼šç´„ 30-60 ç§’ï¼ˆé¦–æ¬¡ï¼‰

4. **è¨ªå•æ‡‰ç”¨**
   - å‰ç«¯: http://localhost:3000
   - å¾Œç«¯: http://localhost:8000

### å¦‚æœä»æƒ³ç”¨ Docker

1. **æ¸…ç†æ‰€æœ‰ Docker è³‡æº**
   ```bash
   docker-compose down -v
   docker system prune -a -f
   docker volume prune -f
   docker builder prune -a -f
   ```

2. **é‡æ–°å•Ÿå‹•**
   ```bash
   docker-compose up --build
   ```

3. **å¦‚æœé‚„æ˜¯å¡ä½**ï¼Œå˜—è©¦åˆ†æ­¥æ§‹å»ºï¼š
   ```bash
   # å…ˆæ§‹å»ºå¾Œç«¯
   docker-compose build backend

   # å†æ§‹å»ºå‰ç«¯ï¼ˆé€™æ­¥å¯èƒ½å¾ˆæ…¢ï¼‰
   docker-compose build frontend

   # æœ€å¾Œå•Ÿå‹•
   docker-compose up
   ```

---

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### ç‚ºä»€éº¼æœƒå¡ä½ï¼Ÿ

1. **ç¶²çµ¡å•é¡Œ**: npm ä¸‹è¼‰åŒ…é€Ÿåº¦æ…¢
2. **ç£ç›¤ I/O**: node_modules åŒ…å«å¤§é‡å°æ–‡ä»¶
3. **Docker å±¤ç·©å­˜**: Windows ä¸Š Docker çš„æ–‡ä»¶ç³»çµ±æ€§èƒ½è¼ƒå·®
4. **é˜²ç—…æ¯’è»Ÿä»¶**: å¯èƒ½æƒæ Docker æ“ä½œ

### è§£æ±ºæ–¹æ¡ˆå„ªå…ˆç´š

1. âœ… **æœ€ä½³**: ä½¿ç”¨ `start-without-docker.bat`
2. âš ï¸ **å‚™é¸**: å¾Œç«¯ç”¨ Dockerï¼Œå‰ç«¯æœ¬åœ°é‹è¡Œ
3. âŒ **ä¸æ¨è–¦**: å®Œå…¨ç”¨ Dockerï¼ˆé–‹ç™¼æ™‚å¤ªæ…¢ï¼‰

---

## ğŸ“ å¸¸è¦‹å•é¡Œ

### Q: ä¸ç”¨ Docker æœ‰ä»€éº¼ç¼ºé»ï¼Ÿ

A:
- éœ€è¦æ‰‹å‹•å®‰è£ Python å’Œ Node.js
- ç’°å¢ƒå¯èƒ½ä¸ä¸€è‡´
- ä½†é–‹ç™¼æ™‚é€™äº›ä¸æ˜¯å•é¡Œï¼

### Q: è³‡æ–™åº«æ€éº¼è¾¦ï¼Ÿ

A:
- æœ¬åœ°å•Ÿå‹•æœƒä½¿ç”¨ SQLiteï¼ˆè‡ªå‹•å‰µå»ºï¼‰
- ç„¡éœ€ PostgreSQL
- æ•¸æ“šå­˜åœ¨ `backend/trading.db`

### Q: æœƒå½±éŸ¿åŠŸèƒ½å—ï¼Ÿ

A:
- âŒ ä¸æœƒï¼æ‰€æœ‰åŠŸèƒ½å®Œå…¨ç›¸åŒ
- âœ… åè€Œæ›´å¿«ã€æ›´æ–¹ä¾¿èª¿è©¦

### Q: å¦‚ä½•åœæ­¢æœå‹™ï¼Ÿ

A:
- é—œé–‰å…©å€‹å½ˆå‡ºçš„å‘½ä»¤çª—å£å³å¯
- æˆ–æŒ‰ Ctrl+C

---

## ğŸ¯ ç«‹å³è¡Œå‹•

### å¦‚æœæ‚¨ç¾åœ¨å¡åœ¨ Dockerï¼š

```bash
# 1. æŒ‰ Ctrl+C åœæ­¢

# 2. åŸ·è¡Œæ¸…ç†ï¼ˆå¯é¸ï¼‰
clean-docker.bat

# 3. ä½¿ç”¨æœ¬åœ°å•Ÿå‹•ï¼ˆæ¨è–¦ï¼ï¼‰
start-without-docker.bat
```

### é æœŸçµæœï¼š

- âœ… 2-3 åˆ†é˜å…§å•Ÿå‹•å®Œæˆ
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… é–‹ç™¼é«”é©—æ›´å¥½

---

## ğŸ’¡ å°ˆæ¥­å»ºè­°

**é–‹ç™¼æ™‚**: ä½¿ç”¨ `start-without-docker.bat`
**éƒ¨ç½²æ™‚**: ä½¿ç”¨ `docker-compose up`

é€™æ˜¯æœ€ä½³å¯¦è¸ï¼Docker éå¸¸é©åˆç”Ÿç”¢ç’°å¢ƒï¼Œä½†é–‹ç™¼æ™‚æœ¬åœ°é‹è¡Œæ›´å¿«æ›´æ–¹ä¾¿ã€‚

---

## ğŸ†˜ é‚„æ˜¯æœ‰å•é¡Œï¼Ÿ

### æª¢æŸ¥æ¸…å–®ï¼š

- [ ] Python å·²å®‰è£ (`py --version`)
- [ ] Node.js å·²å®‰è£ (`node --version`)
- [ ] ç«¯å£ 3000 å’Œ 8000 æœªè¢«å ç”¨
- [ ] é˜²ç—…æ¯’è»Ÿä»¶æœªé˜»æ“‹

### æŸ¥çœ‹æ—¥èªŒï¼š

```bash
# å¾Œç«¯æ—¥èªŒ
æŸ¥çœ‹å½ˆå‡ºçš„ "Backend Server" çª—å£

# å‰ç«¯æ—¥èªŒ
æŸ¥çœ‹å½ˆå‡ºçš„ "Frontend Server" çª—å£
```

---

## ğŸ‰ ç¸½çµ

**æœ€ä½³è§£æ±ºæ–¹æ¡ˆ**: ä½¿ç”¨ `start-without-docker.bat`

- âš¡ å¿«é€Ÿå•Ÿå‹•
- ğŸ’» æ˜“æ–¼é–‹ç™¼
- ğŸ› æ–¹ä¾¿èª¿è©¦
- âœ¨ å®Œæ•´åŠŸèƒ½

**ç«‹å³åŸ·è¡Œ**: `start-without-docker.bat`

ç¥æ‚¨ä½¿ç”¨é †åˆ©ï¼ğŸ“ˆ
